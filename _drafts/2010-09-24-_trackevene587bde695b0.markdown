---
author: cloga0216
comments: true
date: 2010-09-24 12:56:50+00:00
layout: post
slug: _trackeven%e5%87%bd%e6%95%b0
title: _trackEven函数
wordpress_id: 483
tags:
- trackEvent
---

事件追踪使用标准的JavaScript方法调用，并且提供了类别、动作、标签和值这样的层次数据模型。这些参数（表7.4）直接映射了Google Analytics报告界面中的元素。

[![](http://www.cloga.info/wp-content/uploads/2010/09/7.4.bmp)](http://www.cloga.info/wp-content/uploads/2010/09/7.4.bmp)下面的例子解释了你能如何使用时间追踪方法记录用户与页面上的视频播放链接的交互。
旧的ga.js：
`<a href=”#” onClick=”pageTracker._trackEvent(‘类别’,’操作’,‘标签’,‘价值’);”>播放视频</a>`
异步代码：
`<a href=”#” onClock”_gaq.push([‘_trackEvent’,’类别’,’操作’,’标签’,’价值’]);”>播放视频</a>`
事件参数可以使用任何文本字符串，如果使用值这个参数，那么必须是一个整数。在实践中，这些值将是：
旧的ga.js：
`<a href=”#” onClick=”pageTracker._trackEvent(‘视频’, ‘播放’,’生日聚会’);”>播放</a>`
异步代码：
`<a herf=”#” onClick=”_gaq.push([‘_trackEvent’,’视频’,’播放’,’生日聚会’]);”>播放</a>`
在这种情况下，事件报告将把视频显示为类别，播放显示为操作，生日聚会显示为标签（在例子中没有价值）。图7.6所示的是事件追踪报告的例子。
因为事件能在一个访问者session中迅速累积（想象一下追踪每个鼠标移动！），所有在每一次访问中有追踪事件数的限制。在这本书写作时，GATC提供的上限是500——包括事件和页面浏览。因为，记住下列注意事项：
•避免脚本视频在播放的每一秒发送事件及其他高重复的事件触发器。
•避免追踪过多的鼠标动作。
•避免产生高时间计数的时间消退机制。


[![](http://www.cloga.info/wp-content/uploads/2010/09/7-6.bmp)](http://www.cloga.info/wp-content/uploads/2010/09/7-6.bmp)




图7.6  事件追踪概述报告


**追踪Youtube的Flash视频**
如果你创建自己的Flash视频文件，并且有权力访问FLA文件，那么你能用事件追踪跟踪访问者的交互行为。但是，网站上的视频的使用通常是通过YouTube。
YouTube允许你上传自己的视频内容，并且由Google托管你的文件作为一项免费的服务。除了将视频与其他YouTube访问者分享作为一种可能的病毒营销媒介之外，企业能够利用Google的视频托管将YouTube视频文件嵌入到自己的网上。但是，你不能修改YouTube的FLA播放器。
但是，YouTube提供了播放器API，允许网站站长控制视频嵌入网站时的外观。JavaScript API开放了播放和暂停按钮，这就像一个外部调用，你能跟踪这些事件。尽管，这些不能扩展到跟踪youyube.com上面的视频交互，但是在你的网站上与嵌入视频的交互可以被跟踪。更多细节见：http://code.google.com/apis/youtube/getting_started.html#player_apis。
**使用给出例子的注意事项**
对于所有的事件追踪例子，我假设实施的是标准的GATC。即，定义了pageTracker对象（旧的ga.js）或者setAccount（异步代码），如下面的例子：var pageTracker=_gat._getTracker(“UA-12345-1”);（旧的ga.js）或者var _gaq.push([‘_setAccount’,’UA-12345-1’]);
如果你定义了不同的跟踪对象，例如，firstTracker（旧的ga.js）或b._setAccount，那么你需要相应的调整这些例子。
