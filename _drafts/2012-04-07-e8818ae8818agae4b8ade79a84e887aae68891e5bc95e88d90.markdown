---
author: cloga0216
comments: true
date: 2012-04-07 02:57:22+00:00
layout: post
slug: '%e8%81%8a%e8%81%8aga%e4%b8%ad%e7%9a%84%e8%87%aa%e6%88%91%e5%bc%95%e8%8d%90'
title: 聊聊GA中的自我引荐
wordpress_id: 1516
categories:
- Digital分析
tags:
- 自我引荐
---

**一、什么是自我引荐**

自我引荐是指在流量的来源中看到自己的域。比如，我的域是cloga.info，但是在GA的引荐里面也可以看到cloga.info。[![](http://www.cloga.info/wp-content/uploads/2012/04/123123.png)](http://www.cloga.info/wp-content/uploads/2012/04/123123.png)

**二、出现自我引荐有什么问题<!-- more -->**

其实，出现少量的自我引荐是比较正常的。但是，如果自我引荐的量比较大，则需要引起注意。

首先，自我引荐会重写外部的来源，比如，本身是baidu organic的流量，在某一点被重写为自我引荐，那么baidu organic流量所带来的贡献将被低估（这种情况比较少见，更多的是Direct被认为是自我引荐），特别是如果在转化渠道的某一点出现问题时，对归属模型的破坏是毁灭性，其毁灭性不亚于[域哈希使用不一致](http://www.cloga.info/archives/1402.html)。数据上的一个表现效果是大部分转化都来自自我引荐，这个数据对Marketing人员的营销预算分配没有任何意义。另外，自身的访问量也会被高估，本身是一个访问，却被认为是多个访问。

**三、为什么会出现自我引荐**

出现自我引荐的情况有很多，归结到一点就是满足了GA的流量来源重写的规则（[GA对访问来源判断](http://www.cloga.info/archives/817.html)），自身的域名被认为是与其他的外部域一样，是一个引荐。下面简单列举一下我所知道几种情况：

（1）Landing page的GATC加载未成功。Landing page的GATC加载失败，会造成流量来源的丢失，Landing page的referrer和link tag都丢失。并且这个真实的Landing page也不会被记录到GA中。

比如，考虑这个情景，一个对你的网站非常熟悉访问者通过搜索你的品牌词，点击自然搜索结果访问了网站首页，没等GATC加载完成，访问者就通过点击导航去了其他页面，比如a.html。

这种情况下，由于真实的Landing page的GATC没有加载，因此，这个其实是来自baidu organic，landing page为homepage的visit，在GA中被记录为来自自身的引荐流量，Landing page为a.html。

（2）未使用跨子域代码。严格来说，这属于部署失败。不使用跨子域则不同子域间的流量都会变成引荐流量。

（3）域名形式的不一致。比如，我的域名是www.cloga.info，通过cloga.info也可以访问。如果我通过_setDomainName指定的主域是.cloga.info，注意这里有个前导的.，这样的话，cloga.info就会被认为是外部的一个域，如果Direct的（utmz cookie中是direct）访问者Landing在cloga.info，然后通过站内的链接点击站内的链接，到达了www.cloga.info，那么就会被认为是两次访问，一次是direct，一次是cloga.info的referral。

（4）页面代码缺失。

**四、如何避免自我引荐**

上面已经提到如果自我引荐的流量较小，其实是可以正常的。如果是量比较大，则需要按照以上的提到的一些内容去排查。确认排除一些部署和配置上的问题后，如果还是比较大，你也可以通过[_addIgnoredRef](https://code.google.com/intl/zh-CN/apis/analytics/docs/gaJS/gaJSApiSearchEngines.html#_gat.GA_Tracker_._clearIgnoredRef)语句把自己的域的引荐忽略。

有一些说法说添加_gaq.push(['_setAllowHash', false]);可以避免自我，其实这是种误解，关闭域哈希值的作用主要是用于跨主域跟踪时，GA为每个域计算一个哈希，如果哈希值不一致是无法传递cookie值的，因此要关闭，跨子域的_setDomainName已经保证所以的子域的域哈希是一致的。

综上，GA中出现少量的自我引荐是很正常的，如果自我引荐的量较大，则需要检查代码部署是不是存在问题，代码缺失，未使用跨子域等等，如果要避免自我引荐出现在报告中，则可以添加[_addIgnoredRef](https://code.google.com/intl/zh-CN/apis/analytics/docs/gaJS/gaJSApiSearchEngines.html#_gat.GA_Tracker_._clearIgnoredRef)语句。

好了，以上就是我关于自我引荐的几句唠叨，如果其中有什么错误或者您有任何疑问欢迎给我留言~
