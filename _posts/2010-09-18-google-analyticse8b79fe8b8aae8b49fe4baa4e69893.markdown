---
author: cloga0216
comments: true
date: 2010-09-18 14:21:09+00:00
layout: post
slug: google-analytics%e8%b7%9f%e8%b8%aa%e8%b4%9f%e4%ba%a4%e6%98%93
title: Google Analytics跟踪负交易
wordpress_id: 437
tags:
- 负交易
---

所有的电子商务企业都必须或多或少的处理产品退回，因为商品损坏或问题、订单错误或其他原因。通过进行一个负交易在Google Analytics报告中是能看到这些的。但是，我推荐这样，有以下两个原因：
**比较网站访问者数据与内部系统数据无法产生完美的结果** 负交易往往发生在最初购买之后很长时间，因此，发生在不同的报告时期。这通常比在你的报告中直接不处理这些退回的交易更麻烦。
**考虑清楚包含负交易的目的** 如果我搜索“跑鞋”，然后在你的网站上完成了购买，这是一次完美的商品交易——这反映了你的网站及营销活动的有效性。
如果随后，我觉得我不喜欢这双鞋并且退货了，这是产品的原因，可能是质量问题。这应该与你的营销活动的有效性区分开，这仅仅因为我退了这双鞋并不意味着不应为这个产品的营销进行更多投资.
为了保持完整，我在这里包括了如何处理负交易：
首先，创建一个仅内部可见版本的购买完成表单，这个表单能编辑为负交易的详单。表单应在文本编辑器编辑，在这一步不应在浏览器中加载；否则，将触发跟踪代码。为了删除订单，做出如下修改：
对于_addTrans行：
•使用最初购买的order-id
•确保总计变量为负
•确保税和运费为负
对于_addItem行：
•使用最初购买的order-id
•确保价格为负
•确保数量为负
在浏览器中加载包含这个表单的订单收据页副本。这将调用pageTracker.trackTrans（旧的ga.js）或_gaq.push([‘_trackTrans’])（异步代码）函数，就像正常的购买一样。
通过这种方法，你能正常看到实际的交易及复制的负交易。但是，当你选择一个同时包含原始和负交易的时间段，这个交易将不会包含在报告的总收入中。
