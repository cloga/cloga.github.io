---
author: cloga0216
comments: true
date: 2010-11-01 14:36:09+00:00
layout: post
slug: '%e8%bf%87%e6%bb%a4%e5%99%a8%e7%9a%84%e9%80%bb%e8%be%91'
title: 过滤器的逻辑
wordpress_id: 662
tags:
- 过滤器
---

[](http://www.cloga.info/wp-content/uploads/2010/11/8.6.bmp)如果应用排除过滤器，并且数据记录与过滤模式相匹配，那么Google Analytics将扔掉这条页面浏览，并且继续处理下一条数据记录。如果过滤模式不匹配，那么下一个过滤器（如果有的话）将应用于这一个数据行。这意味着，你既可以创建包含用竖线（|）隔开的多个过滤模式的单个排除过滤器，也可以创建每一个仅包含一个过滤模式的多个排除过滤器。下面是几个例子：
**单个排除过滤器**  排除来自217.158.66.33|21.7.158.67.1的流量
这个正则式的意思是排除来自一个IP地址和另一个IP地址的流量。用两个分开的、一个接一个处理的过滤器也能达到这个目的。
**过滤器1/2**  排除来自217.158.66.33的流量
**过滤器2/2**  排除来自21.7.158.67.1的流量
**注：**过滤器的过滤模式不能大于255个字符。附录A给出了构建正则表达式的概述。<!-- more -->
应用包含过滤器的逻辑正相反。应用一个包含过滤器时，如果数据与过滤模式不相符时，这个数据条目将被扔掉。如果你应用多个包含过滤器，那么这是一个重要的区别，因为，这样的话，数据条目必须与每一个包含过滤器相匹配，以便数据条目被存储。例如，如果你为使用你们网络IP地址的内部（员工）访问者使用了一个包含过滤器，那么，再添加一个过滤器，比如，Google搜索访问者，是没有意义的。这种组合不会产生一个内部访问者加Google访问者的报告。这个报告将仅是内部访问者，假设这个过滤器先应用的话，因为在这个过滤器处理的时候，所有的其他东西都被排除了。
与排除过滤器的情况类似，为一个字段包含多个模式，可以创建一个包含过滤器，这个过滤器包含所有的表达式，表达式之间用竖线（|）分开。
**使用多个包含过滤器
**最佳实践建议是每一个配置文件最多分配一个包含过滤器，除非你有特殊的需要并且对了解由此产生的逻辑实现。
**自定义过滤器：可用字段
**构建你自己的自定义过滤器使你能完成许多Google Analytics预设的默认过滤器所无法完成的事情。实际上，你能过滤报告中所展示的每一个可用数据字段。
表8.5和表8.6列出了所有可用的字段及其目的。表8.5列出了用户定义的变量，这些变量的值是由Google Analytics的实施所决定的，例如，着陆页的广告系列参数、电子商务字段等等。
接下来的部分将讨论这些字段在自定义过滤器中的应用。




表8.5  常规字段列表[![](http://www.cloga.info/wp-content/uploads/2010/11/8.5.bmp)](http://www.cloga.info/wp-content/uploads/2010/11/8.5.bmp)




表8.6  用户定义的变量
![](http://www.cloga.info/wp-content/uploads/2010/11/8.6.bmp)
