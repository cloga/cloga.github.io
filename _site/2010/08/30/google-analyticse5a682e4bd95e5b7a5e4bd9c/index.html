
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="ujianVerification" content="fbba4ee9b28ec33f11f17698ddc55b92" />
    <link rel="stylesheet" href="/pygments.css">
    <title>Google Analytics如何工作</title>
    
    <meta name="author" content="Cloga Chen">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/assets/themes/bootstrap/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  
    <!--[if lt IE 9]>
      <script src="/assets/themes/bootstrap/resources/respond/Respond.min.js"></script>
    <![endif]-->

    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
    <script>
      dataLayer = [];
    </script>
  </head>

  <body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Cloga的互联网笔记</a>
        </div>

        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



          <li><a href="/about.html">关于Cloga</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      
<div class="page-header">
  <h1>Google Analytics如何工作 </h1>
</div>
<div class="row post-full">
  <div class="col-md-12">
    <div class="date">
      <span>30 August 2010</span>
    </div>
    <div class="content">
      <p>从第2章“现有的方法及其准确性”你了解了数据收集技术及cookies在网站分析中的作用。Google Analytics是采用第一方cookie的页面标签法。通过这种方法，所有数据的收集、处理、维护及程序更新都作为一种托管服务由Google管理——也被称为SaaS（软件即服务）。但是，它的流程和数据流是怎样的？图3.2的三步示意图很好的解释了这些。
1．访问者到达你的网站之前什么也不会发生。访问者通过不同的途径到达你的网站，包括搜索引擎、e-mail营销，推介链接等等。无论哪个途径，当访问者浏览了你的网站上带有Google Analytics跟踪代码（GATC）的页面之一时，自动向http://www.google-analytics.com/ga.js文件发出请求。这是Google Analytics的主文件——一个25Kb大小的文件，在访问者的一次会话中只下载一次。对这一文件更多的请求将在访问者的浏览器缓存中取回。因为ga.js文件设置正确，推介网站信息将与其他访问者信息（比如页面URL、时间戳、惟一ID、屏幕分辨率、颜色深度）一起被收集，并将产生一小段第一方cookies以识别访问者——或当访问者回访时更新。
2．对于每一个页面浏览，GATC通过向google-analytics.com请求一个透明的、1×1像素的GIF图片，将这一信息发送到Google的数据收集服务器。访问者在页面内的活动也能通过这种方式跟踪，例如，点击Flash动画的开始。整个数据的传输不过一眨眼的功夫。
3．Google每小时处理收集到的数据并更新你的Google Analytics报告。但是，因为方法以及所包含的数据量庞大，因此，报告通常有3到4小时的延迟，这一过程有时会更长，但是不会长于24小时。</p>

<p><a href="http://www.cloga.info/wp-content/uploads/2010/08/3-2.jpg"><img src="http://www.cloga.info/wp-content/uploads/2010/08/3-2.jpg" alt=""></a></p>

<p>图3.2   Google Analytics如何工作的示意图</p>

<p><strong>注：</strong>在大多数情况下，从多数数据收集服务器中采集数据能顺利进行，但是，有时会有问题，比如，日志文件的传输中断。因为，这一原因，Google收集数据并且在24小时内在一天结束重新处理所有数据。因此，一旦你当天的数据丢失了别恐慌。如果这持续了24小时以上，联系Google Analytics支持团队：http://www.google.com/support/googleanalytics/bin/request.py。
<strong>注：</strong>尽管Google Analytics每小时处理数据，但是数据以不同频率导入。例如，Adwords和Adsense数据的导入（如果可用的话）每天发生一次，并且是24小时后。这允许Google的点击欺诈算法完成他们的工作。由于Adwords数据导入引起的潜在差异在第2章中讨论。
Google Analytics有意让所有访问者和所有网站站长使用相同的ga.js跟踪代码段。这意味着在大部分网站使用者的跟踪代码在缓存中——优势是有几百万网站的使用基础包括一些非常受欢迎的门户网站。这是一个好消息，因为，这意味着如果一个来到你的网站访问者之前访问了其他的也运行Google Analytics的网站，ga.js文件根本不用下载——它已被缓存。其结果是Google Analytics对你的网站加载时间有最小的影响。通常的文件缓存为期7天，尽管这一值能在你的浏览器设置中进行调整。
正如你能在图3.2的描述中所认识到的一样，如果访问者阻止了JavaScript的执行或阻止了第1方cookies的设置，或者如果你忘记在页面上添加GATC，或者你的网站服务器不允许GATC执行（即，它有防火墙），Google Analytics将不会发挥作用也将不会收集数据。一旦数据丢失，你不能找回并重新加工，因此，GATC实施的定期审核应是你实施计划的一部分。
<strong>注：</strong>目前有三个版本Google Analytics跟踪代码（GATC）：称为urchin.js的原始旧代码，已不再更新，但是仍在运行；2007年底提出的ga.js代码，是你从Google Analytics功能中获益所必需，比如事件跟踪；以及2009年底推出的异步跟踪代码。
最新的ga.js是在2007年底推出的。尽管，Google没有声称具体什么时候不再支持urchin.js，如果你仍在使用urchin.js，那么你应该计划在不远的将来替换它。为了这样做，登录你作为管理员的Google Analytics账户，并且在你的配置文件设置中点击检查状态链接。你将看到你的新跟踪代码。请注意，如果你也使用urchin.js的旧功能，例如，捕捉虚拟浏览量，那么，这些也将需要更新为新的格式。
异步的跟踪方式具有以下优点：
跟踪代码的加载速度更快，改善浏览器的执行效率
增强数据收集的准确性
消除因为JavaScript未完全加载引起的误差</p>

    </div>

    

    
      <ul class="tag_box inline">
        <li><i class="icon-tags"></i></li>
        
        


  
     
    	<li><a href="/tags.html#Google Analytics-ref">Google Analytics <span>28</span></a></li>
     
    	<li><a href="/tags.html#web metrics-ref">web metrics <span>28</span></a></li>
    
  



      </ul>
    

    <hr>
    
    <ul class="pagination">
      
        <li class="prev"><a href="/2010/08/29/google-analyticse79a84e4b8bbe8a681e789b9e782b9e5928ce58a9fe883bd-3" title="Google Analytics的主要特点和功能">&larr; 上一页</a></li>
      
        <li><a href="/archive.html">归档列表</a></li>
      
        <li class="next"><a href="/2010/08/30/google-analyticse4b88de883bde5819ae4bb80e4b988" title="Google Analytics不能做什么">下一页 &rarr;</a></li>
      
    </ul>
    <hr>
    <!-- Paste the 3 next lines where you want the sharing button(s) to appear -->
    <div class="post-sharing">
     


  <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
	<span class="jiathis_txt">分享到：</span>
	<a class="jiathis_button_tools_1"></a>
	<a class="jiathis_button_tools_2"></a>
	<a class="jiathis_button_tools_3"></a>
	<a class="jiathis_button_tools_4"></a>
	<a href="http://www.jiathis.com/share?uid=1654363" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1343300786690926" charset="utf-8"></script>
<!-- JiaThis Button END -->



    </div>    
    <div class="post-comments">
    


  <!-- UJian Button BEGIN -->
<div class="ujian-hook"></div>
<script type="text/javascript">var ujian_config = {num:12,picSize:84,textHeight:45};</script>
<script type="text/javascript" src="http://v1.ujian.cc/code/ujian.js?uid=1654363"></script>
<a href="http://www.ujian.cc" style="border:0;"><img src="http://img.ujian.cc/pixel.png" alt="友荐云推荐" style="border:0;padding:0;margin:0;" /></a>
<!-- UJian Button END -->
<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1654363"></script>
<!-- UY END -->



    </div>
  </div>
</div>


      <hr>
      <footer>
        <p>
          &copy; 2014 Cloga Chen
          <span class="pull-right text-muted">
            powered by
            <a href="http://jekyll-bootstrap-3.github.io" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll-Bootstrap-3</a>
            and <a href="http://getbootstrap.com" target="_blank">Twitter Bootstrap 3.0.3</a>
          </span>
        </p>
      </footer>
    </div>

    
    <script src="/assets/themes/bootstrap/resources/jquery/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap/resources/bootstrap/js/bootstrap.min.js"></script>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-7VF4"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-7VF4');</script>
<!-- End Google Tag Manager -->


  </body>
</html>

